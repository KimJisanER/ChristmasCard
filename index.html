<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merry Christmas</title>
    <!-- Tailwind CSS (스타일링용) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 구글 폰트: 크리스마스 분위기의 Great Vibes, 그리고 손글씨 느낌의 Nanum Pen Script 추가 -->
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Nanum+Pen+Script&family=Noto+Sans+KR:wght@300;400;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #0f172a; /* 짙은 밤하늘색 */
            color: white;
            overflow-x: hidden; /* 가로 스크롤 방지 */
        }

        .font-christmas {
            font-family: 'Great Vibes', cursive;
        }

        .font-handwriting {
            font-family: 'Nanum Pen Script', cursive;
        }

        /* 눈 내리는 캔버스 스타일 */
        #snow-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none; /* 마우스 이벤트가 캔버스를 통과하도록 설정 */
            z-index: 50; /* 다른 요소들 위에 눈이 내리도록 */
        }

        /* 스크롤 애니메이션 섹션 높이 설정 (애니메이션이 재생될 시간 확보) */
        .scroll-section {
            height: 300vh; /* 화면 높이의 3배 */
            position: relative;
        }

        /* 이미지가 고정될 컨테이너 */
        .sticky-container {
            position: sticky;
            top: 0;
            width: 100%;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        /* 이미지 공통 스타일 */
        .card-image {
            position: absolute;
            width: 100%;
            height: 100%;
            object-fit: cover; /* 이미지가 화면을 꽉 채우도록 */
            transition: opacity 0.1s linear; /* 부드러운 전환 */
            max-width: 800px; /* PC에서 너무 커지지 않게 제한 (선택사항) */
            max-height: 80vh;
            border-radius: 1rem;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5);
        }

        /* 강아지 이미지 자동 전환 애니메이션 (3초 간격) */
        @keyframes crossfade {
            0% { opacity: 0; }
            45% { opacity: 1; }
            55% { opacity: 1; }
            100% { opacity: 0; }
        }

        .dog-animation {
            animation: crossfade 4s infinite ease-in-out;
        }

        /* 음악 버튼 스타일 (수정: 더 작고 눈에 덜 띄게) */
        #music-toggle {
            position: fixed;
            bottom: 15px;
            right: 15px;
            z-index: 100;
            background: rgba(255, 255, 255, 0.15); /* 반투명한 흰색 */
            backdrop-filter: blur(5px); /* 배경 블러 처리 */
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            width: 38px; /* 크기 축소 (기존 50px) */
            height: 38px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            opacity: 0.5; /* 평소 투명도 */
        }
        #music-toggle:hover {
            opacity: 1; /* 호버 시에만 명확하게 보임 */
            background: rgba(239, 68, 68, 0.5); /* 호버 시 크리스마스 분위기 살짝 */
            transform: scale(1.1);
        }

        /* 모바일 대응 */
        @media (max-width: 768px) {
            .card-image {
                width: 90%;
                height: auto;
                aspect-ratio: 3/4;
            }
        }
    </style>
</head>
<body>

    <!-- 오디오 요소 (loop: 반복 재생) -->
    <audio id="bg-music" loop>
        <source src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/song.mp3" type="audio/mpeg">
    </audio>

    <!-- 음악 컨트롤 버튼 (아이콘 크기도 축소됨) -->
    <button id="music-toggle" title="음악 켜기/끄기">
        <svg id="music-icon" class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <!-- 기본 상태: 음소거 아이콘 -->
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" />
            <path id="mute-line" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2" />
        </svg>
    </button>

    <!-- 눈 내리는 효과를 위한 캔버스 -->
    <canvas id="snow-canvas"></canvas>

    <!-- 섹션 1: 인트로 & 메리 크리스마스 텍스트 -->
    <section class="h-screen flex flex-col items-center justify-center text-center px-4 relative z-10">
        <h1 class="font-christmas text-7xl md:text-9xl text-red-500 mb-4 drop-shadow-[0_5px_5px_rgba(255,255,255,0.3)] animate-pulse">
            Merry Christmas
        </h1>
        <p class="text-xl md:text-2xl text-gray-300 mt-4 opacity-80 font-handwriting">
            Lisa, scroll down slowly!
        </p>
        <div class="absolute bottom-10 animate-bounce">
            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path></svg>
        </div>
    </section>

    <!-- 섹션 2: 스크롤 이미지 교체 애니메이션 -->
    <section class="scroll-section" id="scrollTrigger">
        <div class="sticky-container">
            <!-- 이미지 1 (기본 이미지) -->
            <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/couple1.png" 
                 alt="Couple image 1" 
                 class="card-image" 
                 id="image1"
                 style="z-index: 1;">
            
            <!-- 이미지 2 (스크롤 시 나타날 이미지) -->
            <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/couple2.png" 
                 alt="Couple image 2" 
                 class="card-image" 
                 id="image2"
                 style="opacity: 0; z-index: 2;">
                 
            <div class="absolute bottom-10 z-20 bg-black/50 px-4 py-2 rounded-full backdrop-blur-sm">
                <p class="text-white text-sm">금냐냐와 금지산의 크리스마스</p>
            </div>
        </div>
    </section>

    <!-- 섹션 3: 첫 번째 선물 상자 (파란 꽃) -->
    <section class="h-screen flex flex-col items-center justify-center relative z-10 bg-slate-800 border-b border-slate-700">
        <h2 class="text-3xl md:text-5xl font-bold mb-8 text-blue-100 drop-shadow-lg font-christmas">The First Gift</h2>
        <div id="gift-container" class="relative w-64 h-64 md:w-80 md:h-80 cursor-pointer transition-transform hover:scale-105 active:scale-95">
            <!-- 파란 꽃 -->
            <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/blue_flower.png" 
                 alt="Blue Flower"
                 class="absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 ease-in"
                 id="img-flower"
                 style="opacity: 0;">
            
            <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/box3.png" 
                 alt="Box step 3"
                 class="absolute inset-0 w-full h-full object-contain"
                 id="img-box3"
                 style="opacity: 0;">

            <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/box2.png" 
                 alt="Box step 2"
                 class="absolute inset-0 w-full h-full object-contain"
                 id="img-box2"
                 style="opacity: 0;">

            <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/box1.png" 
                 alt="Box step 1"
                 class="absolute inset-0 w-full h-full object-contain"
                 id="img-box1"
                 style="z-index: 10;">
            
            <p id="click-hint" class="absolute -bottom-10 w-full text-center text-gray-300 animate-bounce">
                Click to Open
            </p>
        </div>
    </section>

    <!-- 섹션 4: 두 번째 선물 상자 (황금 박스 & 강아지) -->
    <section class="h-screen flex flex-col items-center justify-center relative z-10 bg-slate-900 border-b border-slate-800">
        <h2 class="text-3xl md:text-5xl font-bold mb-8 text-yellow-100 drop-shadow-lg font-christmas">Cute Friend</h2>
        <div id="gold-gift-container" class="relative w-64 h-64 md:w-80 md:h-80 cursor-pointer transition-transform hover:scale-105 active:scale-95">
            <div id="dog-wrapper" class="absolute inset-0 w-full h-full transition-opacity duration-1000 ease-in opacity-0">
                <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/dog.png" 
                     alt="Cute Dog 1"
                     class="absolute inset-0 w-full h-full object-contain">
                <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/dog2.png" 
                     alt="Cute Dog 2"
                     class="absolute inset-0 w-full h-full object-contain dog-animation">
            </div>

            <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/box_gold3.png" 
                 alt="Gold Box step 3"
                 class="absolute inset-0 w-full h-full object-contain"
                 id="gold-box3"
                 style="opacity: 0;">

            <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/box_gold2.png" 
                 alt="Gold Box step 2"
                 class="absolute inset-0 w-full h-full object-contain"
                 id="gold-box2"
                 style="opacity: 0;">

            <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/box_gold.png" 
                 alt="Gold Box step 1"
                 class="absolute inset-0 w-full h-full object-contain"
                 id="gold-box1"
                 style="z-index: 10;">
            
            <p id="gold-click-hint" class="absolute -bottom-10 w-full text-center text-yellow-200 animate-bounce">
                Click to Open
            </p>
        </div>
    </section>

    <!-- 섹션 5: 세 번째 선물 상자 (쿠키) -->
    <section class="h-screen flex flex-col items-center justify-center relative z-10 bg-slate-800 border-b border-slate-700">
        <h2 class="text-3xl md:text-5xl font-bold mb-8 text-pink-100 drop-shadow-lg font-christmas">You Make Me Smile</h2>
        <div id="cookie-gift-container" class="relative w-64 h-64 md:w-80 md:h-80 cursor-pointer transition-transform hover:scale-105 active:scale-95">
            <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/cookies.png" 
                 alt="Delicious Cookies"
                 class="absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 ease-in"
                 id="img-real-cookies"
                 style="opacity: 0;">
            
            <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/box3.png" 
                 alt="Box step 3"
                 class="absolute inset-0 w-full h-full object-contain"
                 id="cookie-box3"
                 style="opacity: 0;">

            <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/box2.png" 
                 alt="Box step 2"
                 class="absolute inset-0 w-full h-full object-contain"
                 id="cookie-box2"
                 style="opacity: 0;">

            <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/box1.png" 
                 alt="Box step 1"
                 class="absolute inset-0 w-full h-full object-contain"
                 id="cookie-box1"
                 style="z-index: 10;">
            
            <p id="cookie-click-hint" class="absolute -bottom-10 w-full text-center text-gray-300 animate-bounce">
                Click to Open
            </p>
        </div>
    </section>

    <!-- 섹션 6: 네 번째 선물 상자 (노란 꽃) -->
    <section class="h-screen flex flex-col items-center justify-center relative z-10 bg-slate-900 border-b border-slate-800">
        <h2 class="text-3xl md:text-5xl font-bold mb-8 text-yellow-100 drop-shadow-lg font-christmas">Partner for Life</h2>
        <div id="yellow-gift-container" class="relative w-64 h-64 md:w-80 md:h-80 cursor-pointer transition-transform hover:scale-105 active:scale-95">
            <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/yellow_flower.png" 
                 alt="Yellow Flower"
                 class="absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 ease-in"
                 id="img-yellow-flower"
                 style="opacity: 0;">
            
            <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/box_gold3.png" 
                 alt="Gold Box step 3"
                 class="absolute inset-0 w-full h-full object-contain"
                 id="yellow-box3"
                 style="opacity: 0;">

            <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/box_gold2.png" 
                 alt="Gold Box step 2"
                 class="absolute inset-0 w-full h-full object-contain"
                 id="yellow-box2"
                 style="opacity: 0;">

            <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/box_gold.png" 
                 alt="Gold Box step 1"
                 class="absolute inset-0 w-full h-full object-contain"
                 id="yellow-box1"
                 style="z-index: 10;">
            
            <p id="yellow-click-hint" class="absolute -bottom-10 w-full text-center text-yellow-200 animate-bounce">
                Click to Open
            </p>
        </div>
    </section>

    <!-- 섹션 7: 다섯 번째 선물 상자 (반지) -->
    <section class="h-screen flex flex-col items-center justify-center relative z-10 bg-slate-800 border-b border-slate-700">
        <h2 class="text-3xl md:text-5xl font-bold mb-8 text-purple-100 drop-shadow-lg font-christmas">The Sun and The Tree</h2>
        <div id="rings-gift-container" class="relative w-64 h-64 md:w-80 md:h-80 cursor-pointer transition-transform hover:scale-105 active:scale-95">
            <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/rings.png" 
                 alt="Wedding Rings"
                 class="absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 ease-in"
                 id="img-rings"
                 style="opacity: 0;">
            
            <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/box3.png" 
                 alt="Box step 3"
                 class="absolute inset-0 w-full h-full object-contain"
                 id="rings-box3"
                 style="opacity: 0;">

            <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/box2.png" 
                 alt="Box step 2"
                 class="absolute inset-0 w-full h-full object-contain"
                 id="rings-box2"
                 style="opacity: 0;">

            <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/box1.png" 
                 alt="Box step 1"
                 class="absolute inset-0 w-full h-full object-contain"
                 id="rings-box1"
                 style="z-index: 10;">
            
            <p id="rings-click-hint" class="absolute -bottom-10 w-full text-center text-gray-300 animate-bounce">
                Click to Open
            </p>
        </div>
    </section>

    <!-- 섹션 8: 여섯 번째 선물 상자 (한복) -->
    <section class="h-screen flex flex-col items-center justify-center relative z-10 bg-slate-900 border-b border-slate-800">
        <h2 class="text-3xl md:text-5xl font-bold mb-8 text-yellow-100 drop-shadow-lg font-christmas">So happy to be yours</h2>
        <div id="hanbok-gift-container" class="relative w-64 h-64 md:w-80 md:h-80 cursor-pointer transition-transform hover:scale-105 active:scale-95">
            <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/hanbok.png" 
                 alt="Beautiful Hanbok"
                 class="absolute inset-0 w-full h-full object-contain transition-opacity duration-1000 ease-in"
                 id="img-hanbok"
                 style="opacity: 0;">
            
            <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/box_gold3.png" 
                 alt="Gold Box step 3"
                 class="absolute inset-0 w-full h-full object-contain"
                 id="hanbok-box3"
                 style="opacity: 0;">

            <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/box_gold2.png" 
                 alt="Gold Box step 2"
                 class="absolute inset-0 w-full h-full object-contain"
                 id="hanbok-box2"
                 style="opacity: 0;">

            <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/box_gold.png" 
                 alt="Gold Box step 1"
                 class="absolute inset-0 w-full h-full object-contain"
                 id="hanbok-box1"
                 style="z-index: 10;">
            
            <p id="hanbok-click-hint" class="absolute -bottom-10 w-full text-center text-yellow-200 animate-bounce">
                Click to Open
            </p>
        </div>
    </section>

    <!-- 섹션 9: 일곱 번째 선물 상자 (편지) -->
    <section class="min-h-screen flex flex-col items-center justify-center relative z-10 bg-slate-800 py-10">
        <h2 class="text-3xl md:text-5xl font-bold mb-8 text-rose-200 drop-shadow-lg font-christmas">For My Love</h2>
        
        <div id="letter-gift-container" class="relative w-[95vw] h-[60vh] md:w-[800px] md:h-[500px] cursor-pointer transition-transform hover:scale-[1.02] active:scale-100">
            
            <div id="letter-content" 
                 class="absolute inset-0 w-full h-full bg-[#fffdf5] rounded-xl shadow-2xl p-8 md:p-16 flex flex-col justify-center text-left opacity-0 transition-opacity duration-1000 ease-in transform scale-95 border-4 border-rose-100 font-handwriting">
                
                <div class="text-slate-800 text-xl md:text-3xl leading-snug md:leading-relaxed whitespace-pre-line break-keep w-full">
                    메리 크리스마스! 내 사랑 금냐냐
                    냐냐와 함께하는 아침 일상이 나에게는 성탄절 아침처럼 선물같은 나날이야
                    추운 날 길을 헤메도, 어딘가에 내 맘 아늑히 기댈 따뜻한 짝궁이 있다는게 참 든든하고 행복해 ♡ 우리 짝궁에게도 평생 내가 그런 존재였으면 좋겠어!
                    이쁜아 늘 많이 많이 고맙고 엄청 엄청 사랑해 ♡
                    여행 즐겁게 하고 몸 건강히 돌아와야해 ♡
                    메리 크리스마스 사랑해 ♡
                    <span class="block text-right mt-4 text-2xl md:text-4xl">- 영원한 짝궁 금지산</span>
                </div>
            </div>
            
            <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/box3.png" 
                 alt="Box step 3"
                 class="absolute inset-0 w-full h-full object-contain pointer-events-none"
                 id="letter-box3"
                 style="opacity: 0;">

            <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/box2.png" 
                 alt="Box step 2"
                 class="absolute inset-0 w-full h-full object-contain pointer-events-none"
                 id="letter-box2"
                 style="opacity: 0;">

            <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/box1.png" 
                 alt="Box step 1"
                 class="absolute inset-0 w-full h-full object-contain pointer-events-none"
                 id="letter-box1"
                 style="z-index: 10;">
            
            <p id="letter-click-hint" class="absolute -bottom-10 w-full text-center text-gray-300 animate-bounce">
                Click to Open
            </p>
        </div>
    </section>

    <!-- 섹션 10: 엔딩 (Merry Christmas & 가족 사진) -->
    <section class="min-h-screen flex flex-col items-center justify-center relative z-10 bg-black py-20">
        <h1 class="font-christmas text-6xl md:text-8xl text-red-600 mb-12 drop-shadow-lg animate-pulse text-center">
            Merry Christmas
        </h1>
        
        <div class="relative w-[90vw] md:w-[800px]">
             <img src="https://raw.githubusercontent.com/KimJisanER/ChristmasCard/main/assets/family.png" 
                 alt="Happy Family" 
                 class="w-full h-auto object-contain rounded-lg shadow-2xl border-4 border-slate-900 drop-shadow-[0_0_15px_rgba(255,255,255,0.1)]">
        </div>
        
    </section>

    <script>
        /**
         * 0. 음악 제어 (Music Control)
         */
        const music = document.getElementById('bg-music');
        const musicToggle = document.getElementById('music-toggle');
        const muteLine = document.getElementById('mute-line');

        musicToggle.addEventListener('click', () => {
            if (music.paused) {
                music.play().catch(e => console.log("자동 재생이 차단되었습니다."));
                muteLine.style.display = 'none'; // 음소거 표시 제거
            } else {
                music.pause();
                muteLine.style.display = 'block'; // 음소거 표시 추가
            }
        });

        document.body.addEventListener('click', () => {
            if (music.paused && muteLine.style.display !== 'block') {
                music.play().catch(() => {});
                muteLine.style.display = 'none';
            }
        }, { once: true });


        /**
         * 1. 눈 내리는 효과 (Snow Effect)
         */
        const canvas = document.getElementById('snow-canvas');
        const ctx = canvas.getContext('2d');

        let width = window.innerWidth;
        let height = window.innerHeight;
        canvas.width = width;
        canvas.height = height;

        const snowflakes = [];
        const maxSnowflakes = 150;

        class Snowflake {
            constructor() {
                this.reset();
            }

            reset() {
                this.x = Math.random() * width;
                this.y = Math.random() * height - height;
                this.radius = Math.random() * 3 + 1;
                this.speed = Math.random() * 2 + 1;
                this.wind = Math.random() * 1 - 0.5;
                this.opacity = Math.random() * 0.5 + 0.3;
            }

            update() {
                this.y += this.speed;
                this.x += this.wind;

                if (this.y > height) {
                    this.reset();
                    this.y = -10;
                }
            }

            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(255, 255, 255, ${this.opacity})`;
                ctx.fill();
                ctx.closePath();
            }
        }

        for (let i = 0; i < maxSnowflakes; i++) {
            snowflakes.push(new Snowflake());
        }

        function animateSnow() {
            ctx.clearRect(0, 0, width, height);
            snowflakes.forEach(flake => {
                flake.update();
                flake.draw();
            });
            requestAnimationFrame(animateSnow);
        }

        animateSnow();

        window.addEventListener('resize', () => {
            width = window.innerWidth;
            height = window.innerHeight;
            canvas.width = width;
            canvas.height = height;
        });

        /**
         * 2. 스크롤 이미지 교체 애니메이션
         */
        const scrollSection = document.getElementById('scrollTrigger');
        const image2 = document.getElementById('image2');

        window.addEventListener('scroll', () => {
            const sectionRect = scrollSection.getBoundingClientRect();
            const sectionTop = sectionRect.top;
            const sectionHeight = sectionRect.height;
            const windowHeight = window.innerHeight;

            const scrollY = -sectionTop; 
            let opacity = Math.max(0, Math.min(1, scrollY / (sectionHeight - windowHeight)));

            if (sectionTop <= 0 && sectionRect.bottom >= windowHeight) {
                image2.style.opacity = opacity;
            } else if (sectionTop > 0) {
                 image2.style.opacity = 0;
            } else {
                 image2.style.opacity = 1;
            }
        });

        /**
         * 3. 선물 상자 공통 로직 (Helper)
         */
        function setupGift(containerId, boxIds, contentId, hintId) {
            const container = document.getElementById(containerId);
            const box1 = document.getElementById(boxIds[0]);
            const box2 = document.getElementById(boxIds[1]);
            const box3 = document.getElementById(boxIds[2]);
            const content = document.getElementById(contentId);
            const hint = document.getElementById(hintId);

            let opened = false;
            container.addEventListener('click', () => {
                if (opened) return;
                opened = true;
                if (hint) hint.style.display = 'none';

                box1.style.opacity = '0';
                box2.style.opacity = '1';

                setTimeout(() => {
                    box2.style.opacity = '0';
                    box3.style.opacity = '1';

                    setTimeout(() => {
                        box3.style.transition = 'opacity 0.5s ease-out';
                        box3.style.opacity = '0';
                        content.style.opacity = '1';
                        if (contentId === 'letter-content') {
                            content.classList.remove('scale-95');
                            content.classList.add('scale-100');
                        }
                    }, 300);
                }, 200);
            });
        }

        // 각 섹션 선물 상자 설정
        setupGift('gift-container', ['img-box1', 'img-box2', 'img-box3'], 'img-flower', 'click-hint');
        setupGift('gold-gift-container', ['gold-box1', 'gold-box2', 'gold-box3'], 'dog-wrapper', 'gold-click-hint');
        setupGift('cookie-gift-container', ['cookie-box1', 'cookie-box2', 'cookie-box3'], 'img-real-cookies', 'cookie-click-hint');
        setupGift('yellow-gift-container', ['yellow-box1', 'yellow-box2', 'yellow-box3'], 'img-yellow-flower', 'yellow-click-hint');
        setupGift('rings-gift-container', ['rings-box1', 'rings-box2', 'rings-box3'], 'img-rings', 'rings-click-hint');
        setupGift('hanbok-gift-container', ['hanbok-box1', 'hanbok-box2', 'hanbok-box3'], 'img-hanbok', 'hanbok-click-hint');
        setupGift('letter-gift-container', ['letter-box1', 'letter-box2', 'letter-box3'], 'letter-content', 'letter-click-hint');

    </script>
</body>
</html>